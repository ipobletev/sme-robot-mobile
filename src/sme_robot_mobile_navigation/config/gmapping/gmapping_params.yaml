# Gmapping SLAM Configuration for SME Robot Mobile
# Optimized for differential drive robot with 360-degree lidar

# Map Parameters
map_update_interval: 1.0        # Reduced for more frequent map updates
maxUrange: 9.5                  # Maximum usable range of laser (slightly less than max 10m)
maxRange: 10.0                  # Maximum range of laser sensor
sigma: 0.05                     # Sigma used by the greedy endpoint matching
kernelSize: 1                   # Kernel for scan matching
lstep: 0.05                     # Linear step for scan matcher
astep: 0.05                     # Angular step for scan matcher
iterations: 5                   # Number of iterations for scan matching
lsigma: 0.075                   # Sigma for scan matching position
ogain: 2.5                      # Reduced for more responsiveness to new observations
lskip: 0                        # Number of beams to skip in each scan

# Range Parameters  
srr: 0.01                       # Odometry error in translation as a function of translation (rho/rho) - REDUCED for better odometry trust
srt: 0.02                       # Odometry error in translation as a function of rotation (rho/theta) - REDUCED
str: 0.01                       # Odometry error in rotation as a function of translation (theta/rho) - REDUCED
stt: 0.02                       # Odometry error in rotation as a function of rotation (theta/theta) - REDUCED

# Particle Filter Parameters
particles: 50                   # Increased for better probability estimation
xmin: -50.0                     # Initial map size (meters)
ymin: -50.0
xmax: 50.0
ymax: 50.0
delta: 0.05                     # Map resolution (meters per cell)
llsamplerange: 0.01             # Translational sampling range for likelihood
llsamplestep: 0.01              # Translational sampling step for likelihood
lasamplerange: 0.005            # Angular sampling range for likelihood
lasamplestep: 0.005             # Angular sampling step for likelihood

# Motion Model
linearUpdate: 0.1               # Process a scan if robot has moved this far (meters) - REDUCED for more frequent updates
angularUpdate: 0.1              # Process a scan if robot has turned this much (radians) - REDUCED for more frequent updates
temporalUpdate: 2.0             # Process a scan if this much time has elapsed (-1.0 to disable)
resampleThreshold: 0.5          # Neff threshold for resampling

# Frame IDs
odom_frame: odom
base_frame: robot_footprint
map_frame: map

# Other Parameters
transform_publish_period: 0.02  # How often to publish the transform (50 Hz) - INCREASED for smoother position updates
